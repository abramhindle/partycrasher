<main>
  <header class="page-header row">
    <h1> Bucket {{ ::bucket.id }} <small class="bucket-total">
      <ng-pluralize count="::bucket.total"
        when="{ 'one': '1 crash', 'other': '{} crashes' }" />
        total
      </small></h1>
  </header>

  <section class="bucket-summary">
    <!--
    <dt> First Seen </dt>
    <dd> TODO </dd>
    <dt> Last Seen </dt>
    <dd> TODO </dd>
    -->
    <dt> Versions </dt>
    <dd ng-if="versions">{{ ::versions.join(', ') }}</dd>
    <dd ng-if="!versions"><em> No information </em></dd>
    <dt> OSes </dt>
    <dd ng-if="oses">{{ ::oses.join(', ') }}</dd>
    <dd ng-if="!oses"><em> No information </em></dd>
    <dt> Builds </dt>
    <dd ng-if="builds">{{ ::builds.join(', ') }}</dd>
    <dd ng-if="!builds"><em> No information </em></dd>
  </section>

  <hr>

  <section class="panel panel-default latest-crashes">
    <header class="panel-heading">
      <h2 class="panel-title"> Sample Stack Traces </h2>
    </header>
    <div class="panel-body stack-traces">
      <div ng-repeat="report in ::sampleReports" class="panel panel-default">
        <header class="panel-heading">
          <h3 class="panel-title">
            <a href="{{ ::report | uiUrl:'report' }}">{{ ::report.id }}</a>
          </h3>
        </header>
        <ol class="mini stack-trace list-group">
          <li ng-repeat="frame in ::report.stackTrace"
              class="stack-frame list-group-item">
            <code ng-if="frame.func">{{ ::frame.func }}</code>
            <small ng-if="frame.filename">
              {{ ::frame.filename }}{{ ::frame.line ? ':' + frame.line : '' }}
            </small>
            <span ng-if="frame.address">({{ ::frame.address }})</span>
          </li>
        </ol>
      </div>
    </div>
  </section>

  <section class="panel panel-default latest-crashes">
    <header class="panel-heading">
      <h2 class="panel-title"> Latest Crashes </h2>
    </header>

    <ul class="list-group" ng-repeat="crash in ::bucket.reports">
      <li class="list-group-item"><a href="{{ ::crash.href }}">{{ ::crash.id }}</a></li>
    </ul>
  </section>
</main>
